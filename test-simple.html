<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Simple API Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-result { margin: 10px 0; padding: 10px; border-radius: 5px; }
        .success { background-color: #d4edda; color: #155724; }
        .error { background-color: #f8d7da; color: #721c24; }
        button { padding: 10px 20px; margin: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>Simple API Test</h1>
    
    <button onclick="testConnection()">Test API Connection</button>
    <button onclick="testConfig()">Test Configuration</button>
    
    <div id="results"></div>

    <script src="js/config.js"></script>
    <script>
        function testConnection() {
            const results = document.getElementById('results');
            results.innerHTML = '<div class="test-result">Testing API connection...</div>';
            
            if (!CONFIG.SPOONACULAR_API_KEY || CONFIG.SPOONACULAR_API_KEY === 'YOUR_ACTUAL_API_KEY_GOES_HERE') {
                results.innerHTML = '<div class="test-result error">❌ API key not configured. Please update js/config.js</div>';
                return;
            }
            
            fetch(`https://api.spoonacular.com/recipes/complexSearch?apiKey=${CONFIG.SPOONACULAR_API_KEY}&diet=vegan&number=1`)
                .then(response => {
                    if (response.ok) {
                        return response.json();
                    }
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                })
                .then(data => {
                    results.innerHTML = '<div class="test-result success">✅ API connection successful! Found ' + (data.results?.length || 0) + ' recipes</div>';
                })
                .catch(error => {
                    results.innerHTML = '<div class="test-result error">❌ API connection failed: ' + error.message + '</div>';
                });
        }
        
        function testConfig() {
            const results = document.getElementById('results');
            const config = {
                'API Key': CONFIG.SPOONACULAR_API_KEY ? '✅ Set' : '❌ Not set',
                'Base URL': CONFIG.SPOONACULAR_BASE_URL,
                'Max Recipes': CONFIG.MAX_RECIPES,
                'Diet Types': CONFIG.DIET_TYPES.join(', '),
                'Nutrition Types': CONFIG.NUTRITION_TYPES.join(', ')
            };
            
            let html = '<div class="test-result"><h3>Configuration Status:</h3>';
            for (const [key, value] of Object.entries(config)) {
                html += `<p><strong>${key}:</strong> ${value}</p>`;
            }
            html += '</div>';
            
            results.innerHTML = html;
        }
    </script>
</body>
</html>

